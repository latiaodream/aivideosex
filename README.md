# AIè§†é¢‘æœç´¢ç³»ç»Ÿ - åå°ç®¡ç†ç«¯

ä¸€ä¸ªåŸºäºNode.js + Reactçš„ç°ä»£åŒ–AIè§†é¢‘æœç´¢ç³»ç»Ÿåå°ç®¡ç†å¹³å°ï¼Œæ”¯æŒä¼šå‘˜ç®¡ç†ã€å¥—é¤ç®¡ç†ã€è®¢å•ç®¡ç†ã€è¯„ä»·ç®¡ç†å’Œé¦–é¡µDIYåŠŸèƒ½ã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### 1. ä¼šå‘˜ç®¡ç†
- **åŸºäºIPè‡ªåŠ¨æ³¨å†Œ**ï¼šæ ¹æ®ç”¨æˆ·IPè‡ªåŠ¨ç”Ÿæˆè´¦å·ï¼Œæ”¯æŒåŒç½‘å…³å¤šç”¨æˆ·
- **ç”¨æˆ·ä¿¡æ¯ç®¡ç†**ï¼šæ³¨å†Œè®¾å¤‡ã€å›½å®¶ã€ç™»å½•è®°å½•ã€ç§¯åˆ†ä½™é¢ç­‰
- **ç§¯åˆ†ç³»ç»Ÿ**ï¼šæ”¯æŒç§¯åˆ†è°ƒæ•´ï¼Œæ¶ˆè´¹è®°å½•è¿½è¸ª
- **çŠ¶æ€ç®¡ç†**ï¼šæ­£å¸¸/å°ç¦çŠ¶æ€åˆ‡æ¢

### 2. ä»˜è´¹å¥—é¤ç®¡ç†
- **å››æ¡£å¥—é¤**ï¼šé«˜çº§ç‰ˆ(10U)ã€è¶…çº§ç‰ˆ(20U)ã€ç»ˆæç‰ˆ(30U)ã€è‡³å°Šç‰ˆ(50U)
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå¥—é¤åç§°æ”¯æŒä¸­è‹±æ–‡
- **è‡ªå®šä¹‰æ–‡æ¡ˆ**ï¼šä»˜è´¹åæç¤ºè¯­ã€å‡çº§å¼•å¯¼è¯­å¯ç¼–è¾‘
- **æ’åºç®¡ç†**ï¼šæ”¯æŒæ‹–æ‹½æ’åºå’Œä¸Šä¸‹æ¶

### 3. è®¢å•ç®¡ç†
- **USDTæ”¯ä»˜æ”¯æŒ**ï¼šTRC20/BSC/ERC20ä¸‰æ¡é“¾è·¯
- **çŠ¶æ€æµè½¬**ï¼špending â†’ seen â†’ confirmed â†’ credited | failed | expired
- **æ‰‹åŠ¨å¤„ç†**ï¼šæ”¯æŒæ‰‹åŠ¨æ ‡è®°å·²ä»˜ã€è®¾ä¸ºè¿‡æœŸ
- **è¯¦ç»†è®°å½•**ï¼šäº¤æ˜“å“ˆå¸Œã€ç¡®è®¤æ•°ã€æ”¶ä»˜åœ°å€ç­‰å®Œæ•´ä¿¡æ¯

### 4. è¯„ä»·ç®¡ç†
- **æ¥æºåˆ†ç±»**ï¼šdemo/beta/realä¸‰ç§æ¥æºï¼Œå¸¦è§’æ ‡å±•ç¤º
- **éªŒè¯ç³»ç»Ÿ**ï¼šå·²éªŒè¯è´­ä¹°å¾½ç« ï¼Œå¯å…³è”è®¢å•
- **å¤šè¯­è¨€å†…å®¹**ï¼šæ”¯æŒä¸­è‹±æ–‡è¯„ä»·å†…å®¹
- **å‘å¸ƒæ§åˆ¶**ï¼šè‰ç¨¿/å·²å‘å¸ƒ/æœªåˆ—å‡ºçŠ¶æ€ç®¡ç†

### 5. é¦–é¡µDIY
- **è½®æ’­å›¾ç®¡ç†**ï¼šå›¾ç‰‡ã€æ ‡é¢˜ã€æè¿°ã€CTAæŒ‰é’®é…ç½®
- **æ–‡æœ¬åŒºå—**ï¼šæ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€è¦ç‚¹åˆ—è¡¨ç¼–è¾‘
- **ä»·æ ¼è¡¨å±•ç¤º**ï¼šå®æ—¶è¯»å–å¥—é¤æ•°æ®å±•ç¤º

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js + Express**ï¼šæœåŠ¡ç«¯æ¡†æ¶
- **Prisma ORM**ï¼šæ•°æ®åº“æ“ä½œ
- **SQLite/MySQL**ï¼šæ•°æ®åº“æ”¯æŒ
- **Swagger**ï¼šAPIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ
- **JWT/Cookie**ï¼šç”¨æˆ·ä¼šè¯ç®¡ç†

### å‰ç«¯
- **React 18 + Vite**ï¼šç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Ant Design 5**ï¼šUIç»„ä»¶åº“ï¼ˆç§»åŠ¨ç«¯ä¼˜åŒ–ï¼‰
- **React Router v6**ï¼šè·¯ç”±ç®¡ç†
- **React i18next**ï¼šå›½é™…åŒ–æ”¯æŒ
- **Axios**ï¼šHTTPå®¢æˆ·ç«¯

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢ç«¯
- **ç§»åŠ¨ç«¯å¯¼èˆª**ï¼šä¾§è¾¹æŠ½å±‰èœå•ï¼Œè§¦æ‘¸å‹å¥½
- **è¡¨æ ¼æ»šåŠ¨**ï¼šç§»åŠ¨ç«¯è¡¨æ ¼æ¨ªå‘æ»šåŠ¨ä¼˜åŒ–
- **è¡¨å•ä¼˜åŒ–**ï¼šç§»åŠ¨ç«¯è¡¨å•å¸ƒå±€å’Œäº¤äº’ä¼˜åŒ–

## ğŸŒ å¤šè¯­è¨€æ”¯æŒ

æ”¯æŒ6ç§è¯­è¨€ï¼š
- ç®€ä½“ä¸­æ–‡ (zh-CN)
- è‹±è¯­ (en-US)
- è¥¿ç­ç‰™è¯­ (es-ES)
- æ—¥è¯­ (ja-JP)
- éŸ©è¯­ (ko-KR)
- è‘¡è„ç‰™è¯­ (pt-PT)

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0
- npm >= 8.0

### 1. å®‰è£…ä¾èµ–

```bash
# åç«¯ä¾èµ–
cd backend
npm install

# å‰ç«¯ä¾èµ–  
cd ../frontend
npm install --legacy-peer-deps
```

### 2. ç¯å¢ƒé…ç½®

å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶å¹¶å¡«å†™ MySQL è¿æ¥ï¼š
```bash
cd backend
cp .env.example .env
```

`.env` ç¤ºä¾‹ï¼ˆMySQL 5.7/8.xï¼‰ï¼š
```env
DATABASE_URL="mysql://user:password@127.0.0.1:3306/ai_video_search"
ADMIN_TOKEN="your_secure_admin_token_here"
IP_SALT="your_unique_salt_for_ip_hash"
PAY_TRON_ADDRESSES="TRON_ADDRESS_1,TRON_ADDRESS_2"
PAY_BSC_ADDRESSES="BSC_ADDRESS_1,BSC_ADDRESS_2"
BSCSCAN_API_KEY="your_bscscan_api_key"
PORT=8000
NODE_ENV=production
```

### 3. æ•°æ®åº“è®¾ç½®

```bash
cd backend

# å°† Prisma schema åŒæ­¥åˆ°æ•°æ®åº“ï¼ˆé¦–æ¬¡éƒ¨ç½²ï¼‰
npx prisma db push

# å¦‚éœ€æœ¬åœ°æµ‹è¯•æ•°æ®ï¼Œå¯æ‰§è¡Œï¼ˆç”Ÿäº§ç¯å¢ƒè¯·å‹¿è¿è¡Œï¼‰
node src/seed.js
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£8000)
cd backend
npm run dev

# å¯åŠ¨ç®¡ç†ç«¯æœåŠ¡ (ç«¯å£5177)
cd frontend
npm run dev

# å¯åŠ¨ç”¨æˆ·ç«¯æœåŠ¡ (ç«¯å£5174)
cd user-app
npm run dev
```

### 5. è®¿é—®ç³»ç»Ÿ

- **ç®¡ç†åå°**: http://localhost:5177
- **APIæ–‡æ¡£**: http://localhost:8000/api/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/api/health

**é»˜è®¤ç™»å½•ä¿¡æ¯**ï¼š
- ç®¡ç†å‘˜Token: `admin_token_2024_dev`

## ğŸ“Š ç§å­æ•°æ®è¯´æ˜

ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼š

### ç”¨æˆ·æ•°æ® (10ä¸ªç”¨æˆ·)
- åŒ…å«3ä¸ªç›¸åŒç½‘å…³ç”¨æˆ·ï¼ˆç›¸åŒipHashï¼‰
- è¦†ç›–ä¸åŒå›½å®¶ã€è®¾å¤‡ç±»å‹
- ä¸åŒçŠ¶æ€ï¼šæ­£å¸¸/å°ç¦
- ä¸åŒæ¶ˆè´¹è®°å½•å’Œç§¯åˆ†ä½™é¢

### å¥—é¤æ•°æ® (4ä¸ªå¥—é¤)
```
é«˜çº§ç‰ˆ: 10 USDT / 100ç§¯åˆ†
è¶…çº§ç‰ˆ: 20 USDT / 250ç§¯åˆ†  
ç»ˆæç‰ˆ: 30 USDT / 400ç§¯åˆ†
è‡³å°Šç‰ˆ: 50 USDT / 700ç§¯åˆ†
```

### è®¢å•æ•°æ® (20ä¸ªè®¢å•)
- è¦†ç›–æ‰€æœ‰è®¢å•çŠ¶æ€
- ä¸åŒæ”¯ä»˜é“¾è·¯ (TRON/BSC/ETH)
- åŒ…å«æˆåŠŸã€å¤±è´¥ã€è¿‡æœŸç­‰æ¡ˆä¾‹

### è¯„ä»·æ•°æ® (6æ¡è¯„ä»·)
- demo/beta/real å„2æ¡
- åŒ…å«å·²éªŒè¯å’ŒæœªéªŒè¯æ¡ˆä¾‹
- ä¸­è‹±æ–‡å†…å®¹ç¤ºä¾‹

### é¦–é¡µå†…å®¹
- 3ä¸ªè½®æ’­å›¾
- 2ä¸ªæ–‡æœ¬åŒºå—
- å®Œæ•´çš„å¤šè¯­è¨€å†…å®¹

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
ai-video-search/
â”œâ”€â”€ backend/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ prisma/          # æ•°æ®åº“Schemaå’Œè¿ç§»
â”‚   â”œâ”€â”€ src/             # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ routes/      # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ utils/       # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ server.js    # æœåŠ¡å…¥å£
â”‚   â”‚   â””â”€â”€ seed.js      # ç§å­æ•°æ®
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/            # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/  # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/       # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ locales/     # å¤šè¯­è¨€æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/       # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ App.jsx      # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md           # é¡¹ç›®æ–‡æ¡£
```

### APIæ¥å£

#### è®¤è¯ç›¸å…³
- `POST /api/public/auth/auto` - IPè‡ªåŠ¨æ³¨å†Œ

#### ç”¨æˆ·ç®¡ç†
- `GET /api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- `GET /api/admin/users/:id` - è·å–ç”¨æˆ·è¯¦æƒ…
- `PATCH /api/admin/users/:id` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `POST /api/admin/users/:id/credit/adjust` - è°ƒæ•´ç§¯åˆ†

#### å¥—é¤ç®¡ç†
- `GET /api/admin/plans` - è·å–å¥—é¤åˆ—è¡¨
- `POST /api/admin/plans` - åˆ›å»ºå¥—é¤
- `PATCH /api/admin/plans/:id` - æ›´æ–°å¥—é¤
- `PATCH /api/admin/plans/sort` - æ‰¹é‡æ’åº

#### è®¢å•ç®¡ç†
- `GET /api/admin/orders` - è·å–è®¢å•åˆ—è¡¨
- `GET /api/admin/orders/:id` - è·å–è®¢å•è¯¦æƒ…
- `POST /api/admin/orders/:id/mark-paid` - æ ‡è®°å·²ä»˜
- `POST /api/admin/orders/:id/expire` - è®¾ä¸ºè¿‡æœŸ

#### è¯„ä»·ç®¡ç†
- `GET /api/admin/reviews` - è·å–è¯„ä»·åˆ—è¡¨
- `POST /api/admin/reviews` - åˆ›å»ºè¯„ä»·
- `PATCH /api/admin/reviews/:id` - æ›´æ–°è¯„ä»·
- `DELETE /api/admin/reviews/:id` - åˆ é™¤è¯„ä»·

#### é¦–é¡µç®¡ç†
- `GET /api/admin/banners` - è·å–è½®æ’­å›¾
- `POST /api/admin/banners` - åˆ›å»ºè½®æ’­å›¾
- `GET /api/admin/text-blocks` - è·å–æ–‡æœ¬åŒºå—
- `POST /api/admin/text-blocks` - åˆ›å»ºæ–‡æœ¬åŒºå—

### æ„å»ºéƒ¨ç½²

```bash
# æ„å»ºå‰ç«¯
cd frontend
npm run build

# åç«¯ç”Ÿäº§å¯åŠ¨
cd backend
npm run start
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **Tokenè®¤è¯**ï¼šç®¡ç†å‘˜è®¿é—®éœ€è¦æœ‰æ•ˆToken
- **è¾“å…¥éªŒè¯**ï¼šæ‰€æœ‰è¾“å…¥è¿›è¡Œä¸¥æ ¼éªŒè¯
- **SQLæ³¨å…¥é˜²æŠ¤**ï¼šä½¿ç”¨Prisma ORMå‚æ•°åŒ–æŸ¥è¯¢
- **è·¨åŸŸä¿æŠ¤**ï¼šCORSé…ç½®é˜²æ­¢æœªæˆæƒè®¿é—®
- **IPéšç§ä¿æŠ¤**ï¼šæ³¨å†ŒIPæ˜¾ç¤ºæ—¶è‡ªåŠ¨æ‰“ç 

## ğŸ“ è‡ªåŠ¨æ³¨å†Œæœºåˆ¶

ç³»ç»ŸåŸºäºç”¨æˆ·IPå®ç°è‡ªåŠ¨æ³¨å†Œï¼š

1. **IPè¯†åˆ«**ï¼šè·å–çœŸå®å®¢æˆ·ç«¯IPï¼ˆæ”¯æŒä»£ç†ï¼‰
2. **å“ˆå¸Œç”Ÿæˆ**ï¼šIP+ç›å€¼ç”Ÿæˆ10ä½å“ˆå¸Œ
3. **è´¦å·ç”Ÿæˆ**ï¼šæ ¼å¼ä¸º `u_{ipHash}_{YYMMDD}[-n]`
4. **å¹‚ç­‰æ€§**ï¼šç›¸åŒIPå½“å¤©é‡å¤è®¿é—®è¿”å›ç›¸åŒè´¦å·
5. **å¤šç”¨æˆ·æ”¯æŒ**ï¼šåŒç½‘å…³å¤šç”¨æˆ·è‡ªåŠ¨é€’å¢åç¼€

## ğŸ§ª æµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd backend
npm test

# å‰ç«¯æµ‹è¯•
cd frontend  
npm test

# APIæµ‹è¯•
curl http://localhost:8000/api/health
```

## ğŸ“‹ TODO

- [ ] å®Œå–„æ‰€æœ‰ç®¡ç†é¡µé¢çš„å®Œæ•´CRUDåŠŸèƒ½
- [ ] æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] å®ç°å®æ—¶ç»Ÿè®¡Dashboard
- [ ] æ·»åŠ æ‰¹é‡æ“ä½œåŠŸèƒ½
- [ ] é›†æˆç¬¬ä¸‰æ–¹æ”¯ä»˜SDK
- [ ] æ·»åŠ æ“ä½œæ—¥å¿—è®°å½•
- [ ] å®ç°æ•°æ®å¤‡ä»½æ¢å¤
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥å¸®åŠ©æ”¹è¿›é¡¹ç›®ã€‚

---

**æŠ€æœ¯æ”¯æŒ**: å¦‚é‡é—®é¢˜è¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚
